<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cart Details</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>

    <div class="container">

    </div>


    <script>

        let cartArray = JSON.parse(localStorage.getItem("cartList"));

        function showAddCarts() {
            let output = ""
            cartArray?.forEach((cart) => {


                output += `<div class="row">
                <div class="col-md-12 mt-5 shadow p-5 text-start d-flex align-items-center gap-5">
                    <img class="img-fluid w-25 h-100 mb-3 rounded shadow"
                        src="${cart.itemUrl}"
                        alt="">
                    <div class="item-details">
                        <h3>Product Name : ${cart.itemName}</h3>
                        <ul>
                            <li>Category : ${cart.category}</li>
                            <li>Price : ${cart.itemPrice}</li>
                            <li>Qty : ${cart.count}</li>
                            <li>Total : ${cart.itemPrice * cart.count}</li>
                        </ul>
                        <div> 
                            <button class="btn btn-danger" onclick="deleteItem(${cart.id})">Delete Product</button>
                        </div>
                    </div>

              </div>`
            })

            document.querySelector(".container").innerHTML = output;
        }

        showAddCarts();



        function deleteItem(id) {

            const newCartArray = cartArray.filter((cart) => {
                return cart.id !== id
            })

            cartArray = newCartArray;
            localStorage.setItem("cartList", JSON.stringify(cartArray));
            showAddCarts();
        }

    </script>
</body>
</html>